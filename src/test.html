<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<div id="root">
  <h1 data-model="title"></h1>
  <div>
    <div data-model="user"></div>
    <ul data-list="todos">
      <li data-list-item="todos">
        <p data-class="todos:done" data-model="todos:creator"></p>
        <p data-model="todos:date"></p>
        <p data-model="todos:content"></p>
        <ul data-list="todos:members">
          <li data-list-item="todos:members">
            <span data-model="todos:members:name"></span>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</div>


<script>

  let data = {
    title: 'todo list',
    user: 'mirone',
    todos: [
      {
        creator: 'mirone',
        content: 'write mvvm',
        done: 'undone',
        date: '2016-11-17',
        members: [
          {
            name: 'kaito'
          }
        ]
      }
    ]
  }



</script>


<script>

  window.onload = () => {
    const root = document.querySelector('#root');
    traverse(root)
  }

  function traverse(node) {
    if(!node.getAttribute('data-list')){
      for(let i=0;i<node.children.length;i++){
        const _thisNode  = node.children[i];
        parseModel(node)
        parseClass(node)
        parseEvent(node)
        if(_thisNode.children.length){
          traverse(_thisNode)
        }
      }
    } else {
      parseList(node)
    }
  }

  function parseModel(node) {
    //TODO:解析Model节点

  }
  function parseClass(node) {
    //TODO:解析className

  }
  function parseEvent(node) {
    //TODO:解析事件

  }
  function parseList(node) {
    //TODO: 解析列表
    
  }

</script>

</body>
</html>